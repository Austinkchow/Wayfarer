{% extends 'base.html' %}

{% block content %}
<h1>Profile Page</h1>
<p>Username: {{user.username}}</p>
<p>City:
  {% if user.Profile.city == null %}
  Please edit your city.
  {% else %}
  {{user.Profile.city}}
  {% endif %}
</p>
<p>Date joined: {{user.date_joined}}</p>

<form action="{% url 'edit' user.id %}" method="GET">
  <button class="ui inverted button">Edit info</button>
</form>

<form action="" method="post">
  <button class="ui inverted button">Create post</button>
</form>

<h3>blogs</h3>
<!-- create if statement to display if there are posts or not -->
{% if posts.count == 0%}
<p>There are no posts to display</p>
{% else %}
{% for post in posts%}
<div>
  <a href="{% url 'blog' blog.num %}">blog title: {{post.title}}</a>
  <p>blog content: {{post.content}}</p>
</div>
{% endfor %}
{% endif %}

<div id="create-post" class="ui modal create-post">
  <div class="header">Create a new post</div>
  <div class="content">
    <form action="{% url 'createpost'%}" method="POST">
      {% csrf_token %}
      <div class="ui simple dropdown item">
        {% for city in cities%}
        <p class="item">city</p>
        {% endfor %}
      </div>
      <h3>Title: </h3>
      <input type="text" name="title" required>
      <input type="textarea" name="content" placeholder="Start writing" required>
      <input class="btn" type="submit" value="submit">
    </form>
  </div>
</div>
{% endblock %}